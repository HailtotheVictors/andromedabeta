<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
<script async src="https://cse.google.com/cse.js?cx=010448235055792414413:bd55esbdtnq"></script>
<script>
window.onload = codeAddress;
function codeAddress() {
    setTimeout(function() {
		document.getElementsByClassName("gsc-search-button")[0].addEventListener("click", newVideo);
	}, 500);
}

function newVideo() {
	setTimeout(function() { highlight(); }, 500);
}

function highlight() {
	var index = document.getElementsByClassName("gs-visibleUrl");
	var link = index[1].innerHTML;
	var start = link.indexOf("=");
	var code = link.substring(start + 1,link.length);
	$("#phyyt").remove();
	$('<iframe id="phyyt" width="420" height="315" frameborder="0" allowfullscreen></iframe>').attr("src", "https://www.youtube.com/embed/" + code).appendTo("#ytcont");
	var repeat = setInterval(function() {
		var videlem = document.getElementById("phyyt");
		console.log(videlem.currentTime);
	}, 100);
}

function mettwo() {
	var player;
	var index = document.getElementsByClassName("gs-visibleUrl");
	var link = index[1].innerHTML;
	var start = link.indexOf("=");
	var code = link.substring(start + 1,link.length);
    player = new YT.Player('video-placeholder', {
        width: 600,
        height: 400,
        videoId: code,
        events: {
            onReady: initialize
        }
    });
}

function initialize(){

    // Update the controls on load
    updateTimerDisplay();
    updateProgressBar();

    // Clear any old interval.
    clearInterval(time_update_interval);

    // Start interval to update elapsed time display and
    // the elapsed part of the progress bar every second.
    time_update_interval = setInterval(function () {
        updateTimerDisplay();
        updateProgressBar();
    }, 1000)

}
</script>
<button onclick="highlight()">Links4.3</button>
<button onclick="mettwo()">API1</button>
<div class="gcse-search"></div>
<div id="ytcont">
<iframe id="phyyt" width="560" height="315" src="https://www.youtube.com/embed/3aboZlEb8uU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<div id="video-placeholder"></div>
