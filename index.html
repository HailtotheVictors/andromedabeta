<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
<script async src="https://cse.google.com/cse.js?cx=010448235055792414413:bd55esbdtnq"></script>
<script>
var firstCustom = true;
var player;

function findSong() {
	var searchinput = document.getElementsByName("search")[0];
	var searchbutton = document.getElementsByClassName("gsc-search-button")[1];
	var query = document.getElementById("buscar").value;
	searchinput.value = query;
	searchbutton.click();
	setTimeout(function() { mettwo(); }, 1200);
}

function mettwo() {
	var index = document.getElementsByClassName("gs-visibleUrl");
	var link = index[1].innerHTML;
	var start = link.indexOf("=");
	var code = link.substring(start + 1,link.length);
    if (firstCustom == true) {
		player = new YT.Player('video-placeholder', {
			width: 600,
			height: 400,
			videoId: code,
			autoplay: 1,
			events: {
				onReady: initialize
			}
		});
		firstCustom = false;
	} else {
		player.loadVideoById(code);
		loadVideoById(code);
	}
	$("#video-placeholder")[0].src += "&autoplay=1";
	document.getElementById("pic").style.backgroundImage = "url('https://img.youtube.com/vi/" + code + "/0.jpg')";
	console.log("src: https://img.youtube.com/vi/" + code + "/0.jpg");
	document.getElementById("pic").classList.add("adjust");
    //document.getElementById("video-placeholder").preventDefault();
}

var time_update_interval;
function initialize(){
    updateTimerDisplay();
	clearInterval(time_update_interval);
    time_update_interval = setInterval(function () {
        updateTimerDisplay();
    }, 1000)
}

function updateTimerDisplay() {
    var now = player.getCurrentTime();
    var len = player.getDuration();
}
</script>
<style>
.adjust {
	background-size: 134%;
}
#pic {
	height: 100px;
	width: 100px;
	background-image: url('https://hailtothevictors.github.io/andromeda/favicon_c.png');
	background-size: 100%;
	background-position: center;
}
</style>
<button onclick="highlight()">Links8.4</button>
<button onclick="mettwo()">API1</button>
<button onclick="player.seekTo(69)">Move</button>
<input placeholder="Search" id="buscar"/><button onclick="findSong()">o</button>
<div id="pic"></div>
<div style="display:none" id="hidden">
	<div class="gcse-search"></div>
	<div id="video-placeholder"></div>
</div>
